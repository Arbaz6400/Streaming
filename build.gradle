version = project.hasProperty('version') ? project.property('version') : '0.0.1'

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
        }
    }
    repositories {
        maven {
            name = "nexus"
            url = version.endsWith("SNAPSHOT") ?
                uri("http://localhost:8081/repository/maven-snapshots/") :
                uri("http://localhost:8081/repository/maven-releases/")
            credentials {
                username = project.hasProperty("nexusUsername") ? project.property("nexusUsername") : ""
                password = project.hasProperty("nexusPassword") ? project.property("nexusPassword") : ""
            }
        }
    }
}
